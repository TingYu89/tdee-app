<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>TDEE è¨ˆç®—</title>
  <link rel="stylesheet" href="/static/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet">
</head>
<body class="homepage">
  <div class="container">
    <h1>ğŸ§® TDEE è¨ˆç®—</h1>

    <div class="intro">
      <h2>ä»€éº¼æ˜¯ TDEEï¼Ÿä»€éº¼æ˜¯ BMRï¼Ÿä»€éº¼æ˜¯ BMIï¼Ÿ</h2>
      <p><strong>BMR</strong>ï¼ˆåŸºç¤ä»£è¬ç‡ï¼‰ï¼šæ˜¯ä½ èº«é«”åœ¨å®Œå…¨éœæ­¢æ™‚ç¶­æŒç”Ÿå‘½æ´»å‹•æ‰€éœ€çš„æœ€ä½ç†±é‡ã€‚</p>
      <p><strong>TDEE</strong>ï¼ˆç¸½ç†±é‡æ¶ˆè€—ï¼‰ï¼šæ˜¯ä½ ä¸€å¤©æ‰€æœ‰æ´»å‹•ï¼ˆèµ°è·¯ã€åƒé£¯ã€é‹å‹•ç­‰ï¼‰æ‰€éœ€çš„ç¸½ç†±é‡ã€‚</p>
      <p><strong>BMIï¼š</strong> èº«é«”è³ªé‡æŒ‡æ•¸ï¼Œæ˜¯é«”é‡èˆ‡èº«é«˜çš„æ¯”ä¾‹æŒ‡æ¨™ï¼Œç”¨ä¾†åˆæ­¥åˆ¤æ–·é«”é‡æ˜¯å¦è½åœ¨å¥åº·ç¯„åœã€‚</p>
      <p>æ ¹æ“šé€™äº›å€¼ï¼Œä½ å¯ä»¥èª¿æ•´æ¯æ—¥æ”å–ç†±é‡ä»¥é”åˆ° <strong>æ¸›é‡</strong>ã€<strong>ç¶­æŒ</strong> æˆ– <strong>å¢è‚Œ</strong> çš„ç›®æ¨™ã€‚</p>
    </div>

    <img src="/static/TDEE.png" alt="TDEE åœ–ç‰‡" class="banner">

    <form id="tdee-form">
      <label>å¹´é½¡:
        <input type="number" name="age" required>
      </label>

      <label>èº«é«˜ (cm):
        <input type="number" name="height" step="0.1" required>
      </label>

      <label>é«”é‡ (kg):
        <input type="number" name="weight" step="0.1" required>
      </label>

      <label>æ€§åˆ¥:
        <select name="gender" required>
          <option value="male">ç”·</option>
          <option value="female">å¥³</option>
        </select>
      </label>

      <label>æ´»å‹•é‡:
        <select name="activity_level" required>
          <option value="sedentary">å¹¾ä¹ä¸å‹•</option>
          <option value="light">è¼•åº¦(æ¯é€±é‹å‹• 1-2 å¤©) </option>
          <option value="moderate">ä¸­ç­‰(æ¯é€±é‹å‹• 2-4 å¤©) </option>
          <option value="active">æ´»èº(æ¯é€±é‹å‹• 4-6 å¤©) </option>
          <option value="very_active">éå¸¸æ´»èº(æ¯é€±é‹å‹• 7 å¤©) </option>
        </select>
      </label>

      <label>ç›®æ¨™:
        <select name="goal" required>
          <option value="cut">æ¸›é‡</option>
          <option value="maintain">ç¶­æŒ</option>
          <option value="bulk">å¢è‚Œ</option>
        </select>
      </label>

      <button type="submit">âœ… è¨ˆç®— TDEE</button>
    </form>

    <div id="result-container" class="result" style="display:none">
      <h2>ğŸ“Š è¨ˆç®—çµæœ</h2>
      <ul>
        <li><strong>åŸºç¤ä»£è¬ç‡ BMRï¼š</strong><span id="bmr"></span> kcal</li>
        <li><strong>ç¸½æ¶ˆè€—ç†±é‡ TDEEï¼š</strong><span id="tdee"></span> kcal</li>
        <li><strong>å»ºè­°æ”å–ç†±é‡ï¼š</strong><span id="calories"></span> kcal</li>
      </ul>
      <p id="message"></p>
    </div>
    <div class="bmi-box">
      <p><strong>BMIï¼š</strong><span id="bmi"></span></p>
      <p><strong>BMI å»ºè­°ï¼š</strong><span id="bmi_message"></span></p>
      <p class="bmi-note">ğŸ“Œ å¦‚æœä½ åªåœ¨ä¹é«”é‡ï¼Œå¯ä»¥ä¾ç…§ BMI å»ºè­°é¸æ“‡ <strong>æ¸›é‡</strong> æˆ– <strong>å¢é‡</strong>ã€‚</p>
    </div>
    <div class="next-suggestion">
      <p>æƒ³äº†è§£æ›´å¤šå¹«åŠ©é”æˆç›®æ¨™çš„é‹å‹•æ–¹å¼å—ï¼Ÿ</p>
      <a href="/exercise" class="btn-secondary">ğŸ‘‰ äº†è§£é‹å‹•å»ºè­°</a>
    </div>
  </div>

  <script>
    document.getElementById("tdee-form").addEventListener("submit", async (e) => {
      e.preventDefault();
      const formData = new FormData(e.target);
      const data = Object.fromEntries(formData.entries());

      data.age = parseInt(data.age);
      data.height = parseFloat(data.height);
      data.weight = parseFloat(data.weight);

      const res = await fetch("/tdee", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify(data)
      });
      const json = await res.json();

      document.getElementById("result-container").style.display = "block";
      document.getElementById("bmr").textContent = json.bmr;
      document.getElementById("tdee").textContent = json.tdee;
      document.getElementById("calories").textContent = json.recommended_calories;
      document.getElementById("message").textContent = "ğŸ“£ " + json.message;
      document.getElementById("bmi").textContent = json.bmi.toFixed(2);
      document.getElementById("bmi_message").textContent = json.bmi_message;
    });
  </script>
</body>
</html>